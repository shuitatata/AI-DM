---
description: 
globs: 
alwaysApply: true
---
# FEATURES_AND_REQUIREMENTS.md
| 模块 | 必备功能 | 进阶 / 可选功能 |
| ---- | -------- | --------------- |
| **世界构建 Agent** | · Form-based 世界设定收集<br>· WorldState 模型管理<br>· 世界状态丰富化与验证 | · 多世界设定预设<br>· 世界关联性检查<br>· 视觉化世界编辑器 |
| **角色管理 Agent** | · 结构化角色创建表单<br>· CharacterState 模型<br>· 角色背景生成与验证 | · 角色关系图谱<br>· 动态角色成长<br>· 角色画像生成 |
| **剧情解析 Agent** | · 自然语言意图识别<br>· 动作分类与映射<br>· 上下文理解 | · 多轮对话理解<br>· 情感分析<br>· 复杂指令分解 |
| **叙事生成 Agent** | · 场景描述生成<br>· 动态剧情推进<br>· SSE 流式输出 | · 多风格叙事切换<br>· 个性化叙事语调<br>· 自适应难度调节 |
| **状态更新 Agent** | · 游戏状态同步<br>· 条件判断逻辑<br>· 状态持久化 | · 状态回滚机制<br>· 分支状态管理<br>· 状态变化可视化 |
| **Chain 构建器** | · LLM + Prompt + Memory 组合<br>· 上下文管理<br>· 模板注入系统 | · 动态 Chain 重构<br>· 推理链可视化<br>· 性能优化缓存 |
| **模板管理系统** | · 分类 Prompt 模板<br>· 多语言支持<br>· 动态变量注入 | · 模板版本控制<br>· A/B 测试框架<br>· 智能模板推荐 |
| **游戏循环服务** | · FastAPI 路由设计<br>· Session 管理<br>· 异常处理与重试 | · WebSocket 实时通信<br>· 多用户并发<br>· 负载均衡 |
| **前端交互界面** | · 聊天式 UI 界面<br>· 打字机效果<br>· 设置参数面板 | · 富文本渲染<br>· 场景插图展示<br>· 移动端适配 |
| **安全与监控** | · 输入内容过滤<br>· API 密钥管理<br>· 基础日志记录 | · 高级内容审核<br>· 实时监控面板<br>· 性能分析工具 |

