server {
    # 监听 80 端口
    listen 80;

    # 设置 web 根目录，与 Dockerfile 中复制文件的目标路径一致
    root /usr/share/nginx/html;

    # 默认首页文件
    index index.html;

    # 路由配置
    # 这是处理 SPA (单页应用) 路由的关键
    location / {
        # try_files 会按顺序检查文件是否存在
        # $uri: 尝试匹配与请求 URI 完全相同的文件 (例如 /assets/logo.png)
        # $uri/: 尝试匹配与请求 URI 完全相同的目录 (例如 /admin/)
        # /index.html: 如果以上都找不到，则返回 /index.html 文件
        # 这使得无论用户访问哪个路径 (如 /game/play)，最终都会加载 index.html，
        # 然后由 Vue Router 接管路由。
        try_files $uri $uri/ /index.html;
    }

    # (可选) 可以添加对特定类型静态文件的缓存控制
    # location ~* \.(?:jpg|jpeg|gif|png|ico|css|js)$ {
    #     expires 7d;
    #     add_header Cache-Control "public";
    # }
} 